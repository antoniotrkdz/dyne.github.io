---
import Button from '~/components/Button.astro';

const projects = await Astro.glob('~/content/what-we-do/*.md');
---

<div class="lg:m-20 grid grid-cols-2 gap-6">
	{
		projects.map((p) => {
			const { logo, name, link, download } = p.frontmatter;
			return (
				<div class="bg-white rounded-xl p-8 shadow bg-opacity-50">
					<div class="grid grid-cols-4">
						<div
							class="bg-origin-content bg-contain bg-center bg-no-repeat w-20 h-20 rounded-full ring-2 ring-saccent"
							style={`background-image: url(${logo})`}
						/>
						<div class="col-span-3">
							<h1 class="text-4xl text-black font-sans">{name}</h1>
							<div set:html={p.compiledContent()} class="text-black py-5" />
							<Button href={download} text="Download" cls="text-sm mr-4" />
							<Button href={link} text="Learn more..." inverted={true} cls="text-sm" />
						</div>
					</div>
				</div>
			);
		})
	}
</div>
<div class="text-center">
	<Button href="/software" text="Load more..." />
</div>
