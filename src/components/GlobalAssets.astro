---
import '@fontsource/syne/400.css';
import '@fontsource/syne/700.css';
import '@fontsource/syne/800.css';
import '@fontsource/jetbrains-mono';
import '../base.css';
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@dyne/components/dist/dyne-components/dyne-components.css" />
<script type="module" src="https://cdn.jsdelivr.net/npm/@dyne/components/dist/dyne-components/dyne-components.esm.js"
></script>
<script is:inline>
	function attachEvent(selector, event, fn) {
		const matches = document.querySelectorAll(selector);
		if (matches && matches.length) {
			matches.forEach((elem) => {
				elem.addEventListener(event, () => fn(elem), false);
			});
		}
	}
	window.addEventListener('DOMContentLoaded', (event) => {
		const choose = (choices) => {
			const index = Math.floor(Math.random() * choices.length);
			return choices[index];
		};
		const color = choose(['green', 'orange', 'purple']);
		document.body.classList.add(`dyne-${color}`);
		'50 100 200 300 400 500 600 700 800 900'.split(' ').map((v) => {
			document.documentElement.style.setProperty(`--accent-${v}`, `var(--${color}-${v})`);
		});
		document.documentElement.style.setProperty(`--accent-shadow`, `var(--${color}-shadow)`);
		document.documentElement.style.setProperty(`--accent-shadow-focused`, `var(--${color}-shadow-focused)`);
	});

	window.onload = function () {
		attachEvent('[data-aw-toggle-menu]', 'click', function (elem) {
			elem.classList.toggle('expanded');
			document.body.classList.toggle('overflow-hidden');
			document.getElementById('menu')?.classList.toggle('hidden');
		});
	};
	window.onpageshow = function () {
		const elem = document.querySelector('[data-aw-toggle-menu]');
		if (elem) {
			elem.classList.remove('expanded');
		}
		document.body.classList.remove('overflow-hidden');
		document.getElementById('menu')?.classList.add('hidden');
	};
</script>
